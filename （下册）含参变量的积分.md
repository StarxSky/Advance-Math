# 含参变量的积分

> 定义：假设函数$$ f(x, y)$$为矩形闭区域$$ R = [a, \space b]\times [c, \space d] $$上的**连续函数**，在区间$ [a, \space b]$上任意取一个值$ x \in [a, \space b]$，于是得到一个变量$ y$在区间 $ [c, \space d]$上的连续的一元函数，从而积分： $$ \int_{a}^{b}{f(x, y)}dy$$叫做**含参变量$x$的积分**，其中，变量 $ x$在积分过程中为**常数**其被称为**参变量** .同时，由于$x$的任意性，该积分也确定了一个关于$ x$的函数: $$ \phi{(x)} = \int_{a}^{b}{f(x, y)}dy \space ; \space (x \in [a, b]) $$

## The property of the integral $\phi{(x)}$
### 定理1: 如果函数$ f(x, y)$在区域 $ R = [a, b] \times [c, d]$上连续，那么，由积分 $ \int_{a}^{b}{f(x, y)}dy $确定的关于 $ x $的函数$ \phi{(x)} ; \space x \int [a, \space b]$也在区间$ [a, \space b]$上连续
证明： 
假设$ x, x+ \Delta x$为区间 $[a, b]$上的两点，此时：$$ \phi{(x + \Delta)}  - \phi{(x)} = \int_{c}^{d}{[ f(x + \Delta, y) - f( x, y)]} dy $$由于，函数$ f(x, y)$在$ R$上连续进而**一致连续**，所以，$$ \lim_{\Delta x \to 0}{[ f(x + \Delta x, y) - f( x, y)]} = 0 $$从而，$$ \lim_{\Delta x \to 0}{\int_{c}^{d}{[ f(x + \Delta, y) - f( x, y)]} dy} = 0 $$即，$$ \lim_{\Delta x \to 0}{\phi{(x + \Delta)}  - \phi{( x)}} = 0 $$即，$$ \phi{(x)} $$在$ [a, b]$上连续，证毕 .

### 定理2: 如果函数$ f(x, y)$在区域 $R = [a, b] \times [c, d]$上连续，同时存在对参变量$ x$的连续(也在区域$ R$上而言)偏导数 $ \frac{\partial f(x, y)}{\partial x}$，那么，函数$ \phi{(x)} $在区间$ [a, b]$上是可微分的.同时有：$$ \phi{'}(x) = \frac{\partial}{\partial{x}} \int_{c}^{d} f(x , y) dy = \int_{c}^{d} f_{x}(x, y) dy$$

证明： 
因为$$ \phi^{'}{(x)} = \lim_{\Delta x \to 0} \frac{\phi{(x+\Delta x)} - \phi{(x)}}{\Delta x}$$为了得到 $ \phi^{'}$先得出$$ \frac{\phi{(x + \Delta x) - \phi{(x)}}}{\Delta x} = \frac{\int_{c}^{d}{f(x + \Delta x, y)} dy - \int_{c}^{d}{f(x, y)} dy}{\Delta x}  = \int_{c}^{d}{ \frac{f(x+ \Delta x, y) - f(x, y)}{\Delta x}} dy$$根据拉格朗日中值定理有: $$ \phi{(x)}^{'} = \int_{c}^{d}{ \frac{f(x+ \Delta x, y) - f(x, y)}{\Delta x}} dy = \int_{c}^{d}f_{x}(x + \theta \Delta x, \space y)\space dy = \int_{c}^{d}f_{x}(x, \space y) dy+ \int_{c}^{d} \mu{（x, y, \Delta x）}dy $$  $$ 0< \theta < 1  $$ 其中: $$ \mu{(x, y , \Delta)} = f_{x}(x + \theta \Delta x) - f_{x}(x, y)$$ 因为函数 $$f_{x}(x, \space y)$$在区域$ R$上连续，进而，$$\mu{（x, y, \Delta x）} $$也一致连续，此时根据一致连续性的证明， 当 $$ | (x + \theta \Delta x ) - x| = | \Delta | $$ 小于某个正数$$ \delta > 0$$ 即，$$ |\Delta| < \delta $$时，对于任意的正数$ \sigma > 0$ 有: 
$$ |f_{x}{(x + \theta \Delta x, y)} - f_{x}{(x, y)}| = |\mu{（x, y, \Delta x）}| \leq \sigma  $$
成立。故：
$$ \lim_{\Delta \to 0}f_{x}{(x + \theta \Delta x, y)} - f_{x}{(x, y)} = \lim_{\Delta \to 0} \mu{（x, y, \Delta x）} =0 $$


$$ \phi{(x)}^{'} = \lim_{\Delta \to 0}\int_{c}^{d}{ \frac{f(x+ \Delta x, y) - f(x, y)}{\Delta x}} dy = \lim_{\Delta \to 0} \int_{c}^{d}f_{x}(x + \theta \Delta x, \space y) dy = \lim_{\Delta \to 0}\int_{c}^{d}[f_{x}(x, \space y) + \mu] dy = \int_{c}^{d}f_{x}(x, y) dy$$

# 更一般情形
$$ \phi(x) = \int_{\alpha{(x)}}^{\beta{(x)}}{ f(x, y)}dy $$
### 定理1:函数$ f(x, y)$ 在区域$ R = [a, b] \times [c, d]$上连续，函数 $ \alpha{(x)}$ 和 函数$ \beta{(x)}$在区间$ [a, b]$上连续那么由上式确定的函数$ \phi{(x)}$在区间$ [a, b]$上也连续。其中：$$ c \leq \alpha(x) \leq d  \space ; \space c \leq \beta(x) \leq d$$

证明：
假设$ x, x+ \Delta x$为区间 $[a, b]$上的两点，则：$$ \phi{(x + \Delta x)} - \phi{(x )}  = \int_{\alpha(x + \Delta x)}^{\beta(x + \Delta x)}{ f(x+\Delta x, y)} dy  - \int_{\alpha(x)}^{\beta(x)}{ f(x, y)} dy$$
$$ \phi(x + \Delta x) - \phi(x) = \int_{\alpha(x+ \Delta x)}^{\alpha(x)}{f(x+ \Delta x, y)dy} + \int_{\alpha(x)}^{\beta(x)}{f(x+ \Delta x, y)}dy +\int_{\beta(x)}^{\beta(x + \Delta x)}{f(x+ \Delta x, y)}dy - \int_{\alpha(x)}^{\beta(x)}{f(x , y)}dy$$
$$ = \int_{\alpha(x+ \Delta x)}^{\alpha(x)}{f(x+ \Delta x, y)dy} +  \int_{\beta(x)}^{\beta(x + \Delta x)}{f(x+ \Delta x, y)}dy + \int_{\alpha(x)}^{\beta(x)}{[ f(x+\Delta x, y) - f(x, y)]}dy $$
其中，因为$f(x, y)$的一致连续性 $$ \lim_{\Delta x \to 0}\int_{\alpha(x)}^{\beta(x)}{[ f(x+\Delta x, y) - f(x, y)]}dy = 0 $$于是：
$$\phi(x + \Delta x) - \phi(x) = \int_{\alpha(x+ \Delta x)}^{\alpha(x)}{f(x+ \Delta x, y)dy} +  \int_{\beta(x)}^{\beta(x + \Delta x)}{f(x+ \Delta x, y)}dy $$又因为通过**最大值存在定理**和函数的有界性：$$ |f(x + \Delta x, y)| \leq M $$
其中$ M$为函数$ f(x, y)$在区域$ R$上的最大值,则：
$$ \int_{\alpha(x + \Delta x)}^{\alpha(x)}{| f(x+\Delta x, y) | }dy \leq M| \alpha(x) - \alpha(x + \Delta x)|$$
$$ \int_{\beta(x )}^{\beta(x+ \Delta x)}{| f(x+\Delta x, y) | }dy \leq M| \beta(x + \Delta x) - \beta(x)|$$
又因为根据条件中提到的函数$ \alpha(x) \space ;\space \beta(x) $均在区间$[a, b]$上连续，有: 

$$ \lim_{\Delta x \to 0 }\int_{\alpha(x + \Delta x)}^{\alpha(x)}{| f(x+\Delta x, y) | }dy \leq \lim_{\Delta x \to 0}M| \alpha(x) - \alpha(x + \Delta x)| = 0$$

$$ \lim_{\Delta x \to 0 }\int_{\beta(x )}^{\beta(x+ \Delta x)}{| f(x+\Delta x, y) | }dy \leq \lim_{\Delta x \to 0}M| \beta(x + \Delta x) - \beta(x)|  = 0$$
因此：
$$ \lim_{\Delta x \to 0}\phi(x+\Delta x) - \phi(x) = 0$$
即，函数$ \phi{(x)}$在区间$ [a, b]$上连续，证毕 .

### 定理2：函数$ f(x ,y)$在区域$ R = [a, b] \times [c,d ]$上连续且具有连续的对$x$的偏导数$\frac{\partial{x}}{\partial{x}}$,且函数$ \alpha(x)$和函数$ \beta(x)$均在区间 $[a, b] $上连续可微分，则函数$ \phi(x)$在区间$ [a, b]$上可微同时有：$$\phi(x)^{'} = \frac{d}{dx} \int_{\alpha(x)}^{\beta{(x)}} f(x, y) dy = \int_{\alpha(x)}^{\beta{(x)}} f_{x}(x, y) dy + f[x, \beta(x)] \frac{d \beta}{dx} - f[x, \alpha(x)] \frac{d \alpha}{dx} $$其中$$ c \leq \alpha(x) \leq d \space ; \space c \leq  \beta(x) \leq d$$
证明： 首先根据导数的定义: 
$$ \phi(x)^{'} = \lim_{\Delta x\to 0}\frac{\phi(x + \Delta x) - \phi(x)}{\Delta x} = \lim_{\Delta x \to 0 }\frac{\int_{\alpha(x + \Delta x)}^{\beta(x + \Delta x)}{f(x + \Delta x, y) dy} - \int_{\alpha(x)}^{\beta(x)} {f(x , y)} dy }{\Delta x}$$
$$ = \lim_{\Delta x \to 0} \frac{\int_{\alpha(x+\Delta x)}^{\alpha(x)}{f(x + \Delta x, y)}dy + \int_{\alpha(x)}^{\beta(x)}{f(x+\Delta x, y)} dy+ \int_{\beta(x)}^{\beta{(x+\Delta x)}}{f(x +\Delta x, y)}dy - \int_{\alpha{(x)}}^{\beta(x)}{f(x, y)} dy}{\Delta x } $$
$$ = \lim_{\Delta x \to 0} \int_{\alpha(x)}^{\beta(x)}{\frac{f(x +\Delta x, y) - f(x, y)}{\Delta x} }dy + \lim_{\Delta x \to 0} \int_{\beta(x)}^{\beta(x + \Delta x)}{\frac{f(x + \Delta x, y)}{\Delta x}}dy -\lim_{\Delta x\to 0} \int_{\alpha(x)}^{\alpha(x+\Delta x)}{\frac{f(x + \Delta x, y)}{\Delta x} }dy  $$
又因为，我们利用在第一目中的结果得到: 
$$ \lim_{\Delta x \to 0} \frac{1}{\Delta x} \int_{\alpha(x)}^{\beta(x)}{[ f(x + \Delta x, y) - f(x, y) ]\space }dy \rightarrow \int_{\alpha(x)}^{\beta(x)}{ f_{x}(x, y)} \space dy $$
因此，
$$ \lim_{\Delta x \to 0} \int_{\alpha(x)}^{\beta{(x)}}{ f_{x}(x, y) dy } + \lim_{\Delta x \to 0} \int_{\beta(x)}^{\beta(x + \Delta x)}{\frac{f(x + \Delta x, y)}{\Delta x}}dy -\lim_{\Delta x\to 0} \int_{\alpha(x)}^{\alpha(x+\Delta x)}{\frac{f(x + \Delta x, y)}{\Delta x} }dy $$
对于:
$$  \lim_{\Delta x \to 0} \int_{\beta(x)}^{\beta(x + \Delta x)}{\frac{f(x + \Delta x, y)}{\Delta x}}dy  $$
应用积分中值定理:
$$ \lim_{\Delta x \to 0 } \frac{1}{\Delta x}\int_{\beta(x)}^{\beta(x + \Delta x)} {f(x + \Delta x, y)} dy = \lim_{\Delta x \to 0}\frac{1}{\Delta x} [\beta(x + \Delta x) - \beta{(x)}] f(x + \Delta x , \mu)$$
其中，
$$ \beta(x) \leq \mu \leq \beta(x+\Delta x)$$
在 $ \Delta x \to 0$时：$$ \frac{\beta(x + \Delta x)  - \beta(x) }{\Delta x}\to \beta(x)^{'}$$ 
$$ f(x + \Delta x, \mu) \to f[x, \space \beta(x)]$$
类似，对:
$$  \lim_{\Delta x \to 0} \int_{\alpha(x)}^{\alpha(x + \Delta x)}{\frac{f(x + \Delta x, y)}{\Delta x}}dy  $$
应用积分中值定理:
$$ \lim_{\Delta x \to 0 } \frac{1}{\Delta x}\int_{\alpha(x)}^{\alpha(x + \Delta x)} {f(x + \Delta x, y)} dy = \lim_{\Delta x \to 0}\frac{1}{\Delta x} [\alpha(x + \Delta x) - \alpha{(x)}] f(x + \Delta x , \mu)$$
其中，
$$ \alpha(x) \leq \mu \leq \alpha(x+\Delta x)$$
在 $ \Delta x \to 0$时：$$ \frac{\alpha(x + \Delta x)  - \alpha(x) }{\Delta x}\to \alpha(x)^{'}$$ 
$$ f(x + \Delta x, \mu) \to f[x, \space \alpha(x)]$$
最终：
$$ \phi(x)^{'} = \int_{\alpha(x)}^{\beta(x)}{f_{x}(x, y)}dy + f[x, \beta(x)]\beta(x)^{'} - f[x, \alpha(x)]\alpha(x)^{'}$$

