# 极值充分条件的推导
* Taylor 展开式(二元函数， 一元函数)
* 类比一元函数的taylor 与函数极值的关联
* 一元函数的极值（第二充分条件）

### （关于一元函数的第二极值充分条件）
对于一元函数$ y = f(x) $其在点$x_{0}$的某个邻域$ U(x_{0}) $内连续且存在定义，同时存在一二阶导数，且$f^{'}(x_{0}) = 0 \space ; \space f^{''}(x_{0}) \ne 0 \space$ 如果：
* $(1) $如果$ f^{''}(x_{0}) > 0$则函数在点 $ x_{0} $处具有极小值$ f(x_{0}) $.
* $(2) $如果$ f^{''}(x_{0}) < 0$则函数在点 $ x_{0} $处具有极大值$ f(x_{0}) $.

### （对比二元函数 $ z = f(x, \space y)$）
* Step 1: 找到函数$ z = f(x, \space y ) $的驻点:
驻点:
$$ f_{x}(x_{0}, \space y_{0}) = 0 \space  ;\space f_{y}(x_{0}, \space y_{0}) = 0 $$

* Step 2: 根据有关一元函数的第二极值充分条件的内容我们得到以下在曲面$ z = f(x, \space y)$上沿着任意所给直线$ \space l $的方向的向量的二阶偏导数 (其中， $ l \space $ 代表曲面 $ z = f(x, \space y)$上点 $ P_{0}(x_{0}, \space y_{0}) \space $处的任意的一个直线):
* $$ \frac{\partial{^{2}f}}{\partial{l^{2}}} > 0 \space  ; \space \frac{\partial{^{2}f}}{\partial{l^{2}}} < 0$$

* Step 3:求得$ \frac{\partial{^{2}f}}{\partial{l^{2}}} \space  ; \space \frac{\partial{^{2}f}}{\partial{l^{2}}}$ :
这里我们取得与直线 $ l $相同方向的单位向量 $ e_{l}(cos \alpha, \space cos \beta) $
$$ 
\frac{\partial{f}}{\partial{l}} = \frac{\partial{f}}{\partial{x}} cos \alpha + \frac{\partial{f}}{\partial{y}} cos \beta 
$$
进一步：
$$ 
\frac{\partial{^{2}f}}{\partial{l^{2}}} = \frac{\partial}{\partial{l}}(\frac{\partial{f}}{\partial{l}}) = \frac{\partial}{\partial{l}}(\frac{\partial{f}}{\partial{x}} cos \alpha + \frac{\partial{f}}{\partial{y}} cos \beta  )
$$
得到: 
$$ 
= (\frac{\partial{^{2}f}}{\partial{x^{2}}}cos \alpha + \frac{\partial{^{2}f}}{\partial{x}\partial{y}}cos \beta) cos \alpha + (\frac{\partial{^{2}f}}{\partial{y^{2}}}cos \beta + \frac{\partial{^{2}f}}{\partial{y}\partial{x}}cos \alpha) cos \beta 
$$
最后得到: 
$$ 
\frac{\partial{^{2}f}}{\partial{x^2}}cos \alpha ^{2} + \frac{\partial{^{2}f}}{\partial{x}\partial{y}}cos \alpha \space cos\beta + \frac{\partial{^{2}f}}{\partial{y^{2}}}cos\beta \space cos\alpha + \frac{\partial{^{2}f}}{\partial{y} \partial{x}} cos \alpha \space cos\beta
$$

$$
= \frac{\partial{^{2}f}}{\partial{x^2}}cos \alpha ^{2} + 2\frac{\partial{^{2}f}}{\partial{x}\partial{y}}cos \alpha \space cos\beta + \frac{\partial{^{2}f}}{\partial{y^{2}}}cos\beta ^{2} 
$$
此时，得到类似于二次函数的形式$ Ax^2 + 2Bxy + Cy^2 = 0 \space $ :
为此，我们令:
$$ 
\frac{\partial{^{2}f}}{\partial{x^2}} = A \space ; \space \frac{\partial{^{2}f}}{\partial{x} \partial{y}} = B \space ; \space \frac{\partial{^{2}f}}{\partial{y^2}} = C

$$
于是得到:
$$ 
Acos \alpha ^2 + 2B cos\alpha \space cos\beta + Ccos\beta ^2 = 0
$$
我们得到: $$ \Delta = 4(2B)^2 - 4AC = 4(B^2 - AC)$$
于$0$ 进行比较大小：
* $ \Delta > 0 \rightarrow B^2 - AC > 0$当$ A > 0 $时，函数在点$ P_{0}(x_{0}, \space y_{0}) $上存在极小值，当$ A < 0 $时，函数在点$ P_{0}(x_{0}, \space y_{0}) $上存在极大值。
* $ \Delta < 0 \rightarrow B^2 - AC < 0$函数不存在极值。
* $ \Delta = 0 \rightarrow B^2 - AC = 0$函数可能存在极值也可能不存在极值，具体问题具体分析。

对于$\space B^2 -AC \space $我们可以得到Hession矩阵:

$$ H = \left | \begin{matrix}
f_{xx} & f_{xy} \\
& \\
f_{yx} &f_{yy} \\

\end{matrix} \right | 
=
\left | \begin{matrix}
A & B \\
& \\
B &C\\

\end{matrix} \right |
$$



该矩阵的行列式为：$$ \Delta = AC - B^2 $$ 
### (使用二元函数的Taylor展开式证明)

对函数$ z = f(x, \space y) $使用Taylor 展开得到:
$$ 
\Delta{f} = f(x_{0}+h, y_{0}+k) - f(x_{0}, \space y_{0}) 
$$

$$
= \frac{1}{2}[h^2f_{xx}(x_{0}+\theta{h}, \space y_{0}+\theta{k}) + 2hkf_{xy}(x_{0}+\theta{h}, \space y_{0}+\theta{k})+k^2f_{yy}(x_{0}+ \theta{h}, \space y_{0}+\theta{k})]
$$
此时，我们根据上面所提到的" (类比到二元函数的情形) "可通过上式得到:
* $ \Delta > 0 \rightarrow B^2 - AC > 0$当$ A > 0 $时，函数在点$ P_{0}(x_{0}, \space y_{0}) $上存在极小值，当$ A < 0 $时，函数在点$ P_{0}(x_{0}, \space y_{0}) $上存在极大值。
* $ \Delta < 0 \rightarrow B^2 - AC < 0$函数不存在极值。
* $ \Delta = 0 \rightarrow B^2 - AC = 0$函数可能存在极值也可能不存在极值，具体问题具体分析。



### 同时，也可以根据下面的情况进行判断
根据类比到一元函数的Taylor展开式子的情形:
> 一元函数的Taylor展开式与函数的极值联系：对函数$ f(x)$使用Taylor展开式得到:$ f(x) = f(x_{0}) + f^{1}(x_{0})(x-x_{0})+ \frac{f^{2}(\delta)}{2!}(x- x_{0})^2$,其中，$ x < \delta < x_{0}$
>此时我们得到了: $$ \Delta{f} = f(x) - f(x_{0}) - f(x) = f(x_{0})(x-x_{0})+\frac{f^2(\delta)}{2!}(x-x_{0})^2$$同时，我们因为有$ f^{1}(x_{0}) = 0$因此，上式为:$$ 
\Delta{f} = \frac{1}{2} f^{2}(x_{0})(x- x_{0})^2 $$,如果$ f^2(x_{0})>0$则，$\Delta{f}>0 \rightarrow f(x) > f(x_{0})$即，$f(x_{0})$为极小值，相反，如果$\Delta{f}<0 \rightarrow f(x) < f(x_{0})$即，$f(x_{0})$为极大值


则，对于二元函数: 
$$
\Delta{f} = \frac{1}{2}[h^2f_{xx}(x_{0}+\theta{h}, \space y_{0}+\theta{k}) + 2hkf_{xy}(x_{0}+\theta{h}, \space y_{0}+\theta{k})+k^2f_{yy}(x_{0}+ \theta{h}, \space y_{0}+\theta{k})]
$$

$$
\Delta{f} = \frac{1}{2} \frac{1}{f_{xx}}[(hf_{xx} + kf_{xy})^2 + k^2(f_{xx}f_{yy} - f^{2}_{xy})]
$$
上式的$ \Delta{f} $的符号只与$ f_{xx} $的符号有关，因此结合一元函数的Taylor展开式的情况进行类比我们可总结为: 
* $ f_{xx} >0 $时(即，$ f_{xx} = A > 0 $)，$ \Delta{f} > 0 $此时函数在点 $ P_{0}(x_{0}, \space y_{0}) $处为极小值
* $ f_{xx} < 0 $时(即，$ f_{xx} = A < 0 $)，$ \Delta{f} < 0 $此时函数在点 $ P_{0}(x_{0}, \space y_{0}) $处为极大值