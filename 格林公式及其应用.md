# 单连通区域与复连通区域
假设平面区域为$ D$.
* 如果$ D$内的任一闭曲线所围成的部分属于$ D$,那么称$ D$为单连通区域.
* 如果$ D$内存在“洞”，那么称$ D$为复连通区域.

> Example: 
1. 对于平面$ \{ (x,y)| x^2 + y^2 \leq 1 \}$ 是单连通区域.
2. 对于平面$ \{ (x,y)|  0 < x^2 + y^2 \leq 1 \}$ 是复连通区域.因为该区域在点$ (0,0)$ 存在“洞”.

对于平面$ D $上的边界曲线$ L$我们规定其正向如下：当观察者沿着曲线$ L$行走时，$ D$ 是其左侧的区域.那么观察者所走的方向即为$ L$的正向方向。对于复连通区域来说，当区域$ D$内部存在一个“洞”时，对于洞的边界曲线$ l$来说，当观察着演着该边界曲线$ l$行走时，同样的，区域$ D$总在其左侧，那么该方向为该"洞"的边界曲线的正方向。


# 格林公式
格林公式通过在平面上的闭区域$ D$上的二重积分转换为可以通过沿着闭区域$ D$的边界曲线$ L$上的曲线积分来进行计算。
> 定义: 设闭区域$ D$由分段光滑的曲线$ L$ 围成,函数$ P(x,y) $ 与 $Q(x, y)$在闭区域$ D$ 上具有一阶连续偏导数则有: $$ \iint_{D} (\frac{\partial{Q}}{\partial{y}} - \frac{\partial{P}}{\partial{x}} ) dx dy = \oint_{L} P dx + Qdy$$其中，$ L$为区域$ D$ 的边界曲线

# 平面上曲线积分与路径无关的条件

对于曲线积分与路径无关的定义：如果对于一个平面上的闭区域$ G$来说该区域上的两个函数$ P(x,y) $ 与$ Q(x, y)$在区域$G$上具有一阶连续的偏导数，如果对于区域上任意选定的两个点 $A, B$以及$ G$内从点$ A $到点$B$的任意两条路径$ L_{1}$ 与$ L_{2}$ 来说，存在: $$ \int_{L_{1}} {Pdx + Qdy} = \int_{L_2}{Pdx + Qdy}$$恒成立，那么称曲线积分$ \int_{L} {Pdx + Qdy} $ 与在区域$ G$ 内的路径无关，否则称为路径有关。通过上述描述，可以知道，如果曲线积分与路径无关那么：$$ \int_{L_1}{Pdx + Q dy} = \int_{L_2} Pdx + Qdy \\ \space \\  \int_{L_2} {Pdx + Qdy = - \int_{L_2^{-}}} Pdx + Qdy \\ \space \\ \int_{L_1} Pdx + Qdy + \int_{L_2^{-} }{Pdx+ Qdy} = 0$$即，$$ \oint_{L_1 + L_2^{-}}{Pdx  + Qdy = 0 }$$
这里的$ L_1 + L_2^{-}$是一条闭曲线。因此，得到结论： ***曲线积分$ \int_{L}{Pdx + Qdy}$在$ G$内与路径无关相当于沿着$ G$内任意闭曲线$ C$的曲线积分$ \oint_{C}{Pdx + Qdy = 0}$***

> 定理： 若区域$ G$为单连通区域，如果函数$ P(x, y) $ 与$ Q(x, y)$在区域$ G$上具有一阶连续偏导数，那么曲线积分$ \int_{L}{Pdx + Qdy}$在$ G$内与路径无关（或者沿着$ G$内的任意闭曲线的曲线积分为零）的充分必要条件为： $$ \frac{\partial{P}}{\partial{y}} = \frac{\partial{Q}}{\partial{x}}$$在区域$ G$内恒成立。

在该定理中，要求区域$ G$ 必须为单连通区域，同时函数$ P, Q$必须具有一阶连续的偏导数，如果这两个条件均不能满足，那么定理的结论也不能保证有效。

如果对于某些由曲线$ L$ 围成的区域含有特殊点时，这样的特殊点会导致$ \frac{\partial{P}}{\partial{y}} = \frac{\partial{Q}}{\partial{x}}$ 虽然恒成立，但对于闭曲线的积分$ \oint_{L} Pdx + Qdy \neq 0$,这样的破坏函数$ P, Q, \frac{\partial{P}}{\partial{y}}, \frac{\partial{Q}}{\partial{x}}$ 连续性的点$ O $ ，该点称为 ***奇点***

> Example : 计算$$ \oint_{L}{\frac{xdy - ydx}{x^2 + y^2}}$$其中的$ L $为一条无重点，光滑分段且不经过原点的连续闭曲线，$ L$的方向为逆时针方向。当$ L$所围成的区域中包含$ (0,0)$点时，虽然除原点外，恒有$ \frac{\partial{Q}}{\partial{x}} = \frac{\partial{P}}{\partial{y}} $ 但沿闭曲线的积分$ \oint_{L} Pdx + Qdy \neq 0$其原因在于函数被奇点$ O$所破坏了连续性。

# 二元函数的全微分求积
现在讨论，当函数$ P, Q$满足什么条件时，表达式$ P(x, y)dx + Q(x, y) dy$为某个二元函数$ u(x, y)$ 的全微分

> 定理： 设区域$ G$ 是一个单连通域，如果函数$ P(x, y) $ 与$ Q(x, y)$在区域$ G$上具有一阶连续偏导数，那么$ P(x, y)dx + Q(x, y) dy$ 为某个函数$ u(x, y)$ 的全微分的充分必要条件为： $$ \frac{\partial{P}}{\partial{y}} = \frac{\partial{Q}}{\partial{x}}$$在区域$ G$内恒成立。 计算该函数$ u(x,y)$ 通过以下式子进行计算：$$ u(x, y) = \int_{(x_0, y_0)}^{(x, y)}{P(x, y)dx + Q(x, y)dy}$$

证明： 
* 先证明必要性：
首先假设存在这样的一个函数$ u(x,y) $使得： $$ du = P dx + Q dy $$那么根据全微分的定义，则肯定存在： $$ \frac{\partial{u}}{\partial{y}} = Q(x, y) \\ \space \\ \frac{\partial{u}}{\partial{x}} = P(x, y)$$

那么一定存在$$ \frac{\partial{ ^2u}}{\partial{x} \partial{y}} = \frac{\partial{P}}{\partial{y}} \\ \space \\ \frac{\partial{ ^2u}}{\partial{y} \partial{x}} = \frac{\partial{Q}}{\partial{x}}$$
因为函数$ \frac{\partial{ ^2u}}{\partial{x} \partial{y}}  $ 与 $ \frac{\partial{ ^2u}}{\partial{y} \partial{x}}  $ 连续，所以: $$ \frac{\partial{ ^2u}}{\partial{x} \partial{y}}  = \frac{\partial{ ^2u}}{\partial{y} \partial{x}} $$
因此： $$ \frac{\partial{Q}}{\partial{x}} =  \frac{\partial{P}}{\partial{y}} $$

* 证明充分性：此时知道条件 $$ \frac{\partial{Q}}{\partial{x}} =  \frac{\partial{P}}{\partial{y}} $$ ，需要证明在该条件下，函数$ u(x, y) $的微分为$ Pdx + Qdy$,即，因为函数$ P, Q$ 是连续的所以只需要证明$$ \frac{\partial{u}}{\partial{y}} = Q(x, y) \\ \space \\ \frac{\partial{u}}{\partial{x}} = P(x, y)$$即可。

因为等式$$\frac{\partial{Q}}{\partial{x}} =  \frac{\partial{P}}{\partial{y}}   $$成立，所以根据 **曲线积分与路径无关的条件** 在假设起点为
$ M_0 (x_0, y_0)$，终点为$ M_(x, y)$时
可以将该积分写作： $$ \int_{(x_0, y_0)}^{(x,y)} P dx + Q dy  $$
当点$ M_0 (x_0, y_0) $为定点时，那么该积分构成一个关于$ x, y$的函数记作： $$ u(x, y) = \int_{(x_0, y_0)}^{(x, y)} P (x,y)dx + Q(x, y)dy$$
同时，按照偏导数的定义，有： $$ \frac{\partial{u}}{\partial{x}} = \lim_{\Delta x \to 0}\frac{u(x + \Delta x, y) - u(x_0, y_0)}{\Delta x} $$
则： $$ u(x + \Delta x, y) = \int_{(x_0, y_0)}^{(x + \Delta x, y)}{P(s, t)ds + Q(s, t)dt}$$

为了方便计算，可以将原来的曲线积分路线 $$ M_0 (x_0, y_0) \to M(x + \Delta x, y) $$转换为 $$ M_0 (x_0, y_0) \to N(x, y) \to M(x + \Delta x, y) $$
进行计算： $$ u(x + \Delta x, y) = u(x, y) + \int_{(x, y)}^{(x + \Delta x, y)}{P(s, t)ds + Q(s, t)dt} $$
$$ u(x+ \Delta x, y) - u(x, y) = \int_{(x, y)}^{(x + \Delta x, y)}{P(s, t)ds + Q(s, t)dt}$$
上面的积分可以认为是方程$$ y = C$$ 其中$C$为常数 再根据对坐标的曲线积分计算方法可知：$$ u(x+ \Delta x, y) - u(x, y) = \int_{(x)}^{(x + \Delta x)}{P(s, t)ds } $$
结合积分中值定理可得：$$ u(x+ \Delta x, y) - u(x, y) = P(x + \theta \Delta x,y) \Delta x$$
$$ \lim_{\Delta x\to 0}{\frac{u(x+ \Delta x, y) - u(x, y)}{ \Delta x}} = \lim_{\Delta x \to 0}{\frac{P(x + \theta \Delta x,y) \Delta x}{ \Delta x}} = P(x, y)$$
同理，有： $$ \lim_{\Delta y \to 0}{\frac{u(x, y + \Delta y) - u(x, y)}{ \Delta y}} = \lim_{\Delta y \to 0}{\frac{Q(x, y + \theta \Delta y) \Delta y}{ \Delta y}} = Q(x, y)$$
因此： $$ \frac{\partial{u}}{\partial{y}} = Q(x, y) \\ \space \\ \frac{\partial{u}}{\partial{x}} = P(x, y)$$ 符合。证毕

结合 “ 平面上曲线积分与路径无关的条件“ 和“二元函数的微分求积” 可得到下面的推论： 
> 推论： 设区域$ G$ 为一个单连通域，函数$ P(x, y)$ 和$ Q(x, y)$ 在该区域上具有连续的一阶偏导数，且满足$$\frac{\partial{P}}{\partial{y}} = \frac{\partial{Q}}{\partial{x}}$$那么曲线积分$ \int_{L} P(x, y) dx + Q(x, y) dy $与路径无关的充分必要条件是：存在一个函数$ u(x, v) $使 $ du = Pdx + Q dy$ .